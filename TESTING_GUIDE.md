# 地址自动完成功能测试指南

## 🚀 快速测试步骤

### 1. 启动项目
```bash
cd /Users/ew-josh/Downloads/EW-Design/EW-WebView
npm start --prefix frontend
```

### 2. 访问货源发布页面
1. 打开浏览器访问 `http://localhost:3000`
2. 导航到货源发布页面
3. 点击 "发布货源信息 (Post Load)" 按钮

### 3. 测试自动完成功能

#### 测试案例 A: 邮编搜索
1. **输入**: `90` 
   - **预期**: 显示加州相关邮编建议
   - **验证**: 建议列表应包含90xxx开头的邮编

2. **输入**: `10001`
   - **预期**: 显示纽约Manhattan区域
   - **验证**: 地址类型显示"邮政编码"

3. **选择建议**: 点击任意建议
   - **预期**: 
     - 输入框填充完整地址
     - 下方显示绿色确认框
     - 确认框显示两种格式地址

#### 测试案例 B: 街道地址搜索
1. **输入**: `Times Square`
   - **预期**: 显示纽约时代广场相关地址
   - **验证**: 建议中包含完整街道地址

2. **输入**: `123 Main`
   - **预期**: 显示各地Main Street选项
   - **验证**: 每个建议显示不同城市的Main Street

#### 测试案例 C: 城市搜索
1. **输入**: `Los Angeles`
   - **预期**: 显示洛杉矶相关地址选项
   - **验证**: 包含城市、区域等不同类型

### 4. 验证地址格式

#### 选择地址后的验证点：
- [ ] 确认框出现（绿色背景）
- [ ] 显示格式化地址（如：Los Angeles, CA 90210）
- [ ] 显示完整地址（如：Los Angeles, CA, USA）
- [ ] 起点和终点都能正常搜索
- [ ] 路线查看功能正常工作

### 5. 性能测试

#### 防抖功能验证：
1. **快速输入**: 连续快速输入字符
   - **预期**: 不会每个字符都触发搜索
   - **验证**: 控制台搜索日志应该有延迟

2. **网络检查**: 打开浏览器开发者工具 → Network
   - **预期**: Google Places API调用次数合理
   - **验证**: 不应该有过多的并发请求

### 6. 边界情况测试

#### 异常输入测试：
1. **单字符输入**: `a`
   - **预期**: 不应该触发搜索（需要2+字符）

2. **特殊字符**: `@#$%`
   - **预期**: 优雅处理，不应该报错

3. **网络断开**: 断开网络连接
   - **预期**: 显示合适的错误信息

### 🔍 调试信息

在浏览器控制台中查看以下日志：
- `🚀 GoogleMapsAddressInput: 开始初始化...`
- `🔍 搜索地址: [输入内容]`
- `🔢 检测到邮编搜索模式` 或 `📍 检测到地址搜索模式`
- `✅ 找到 X 个地址建议`
- `🎯 用户选择地址: [选择的地址]`

### ✅ 成功标准

所有以下条件都应该满足：
- [ ] 2个字符即可触发搜索
- [ ] 邮编搜索能正确识别并返回邮编相关结果
- [ ] 街道地址搜索返回相关街道
- [ ] 选择地址后显示确认信息
- [ ] 确认信息包含两种格式（简短和完整）
- [ ] 建议列表显示地址类型标识
- [ ] 防抖功能正常工作
- [ ] 无JavaScript错误
- [ ] Google Maps路线功能正常

### 🐛 常见问题排查

#### 如果自动完成不工作：
1. 检查Google Maps API密钥是否配置正确
2. 检查网络连接
3. 查看浏览器控制台是否有错误信息
4. 确认Google Places API已启用

#### 如果建议不准确：
1. 尝试更具体的输入
2. 检查是否限制在美国范围内
3. 验证API配额是否充足

#### 如果样式显示异常：
1. 检查CSS文件是否正确加载
2. 清除浏览器缓存
3. 验证PostLoadModal.css和GoogleMapsAddressInput.css

---

**测试完成后，请将结果记录在项目文档中，包括任何发现的问题和建议的改进点。** 